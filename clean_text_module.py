# clean_data.py

import re

# ---------- ğŸ”¹ Ø¯Ø§Ù„Ø© ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Øµ ----------
def clean_text(text):
    """
    ØªÙ†Ø¸Ù Ø§Ù„Ù†Øµ Ø¨Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø£Ø³Ø·Ø± Ø§Ù„Ù…ÙƒØ³ÙˆØ±Ø©ØŒ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø²Ø§ÙŠØ¯Ø©ØŒ ÙˆØ§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ØºØ±ÙŠØ¨Ø©
    """
    # Ø­Ø°Ù Ø§Ù„Ø£Ø³Ø·Ø± 
    text = text.replace("\n", " ")

    # Ø­Ø°Ù Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø©
    text = re.sub(r'\s+', ' ', text)

    # Ø­Ø°Ù Ø§Ù„Ø±Ù…ÙˆØ² ØºÙŠØ± Ø§Ù„Ù…ÙÙŠØ¯Ø© 
    text = re.sub(r'[^a-zA-Z0-9.,;:()\-â€“â€”"\'\s]', '', text)

    # Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø¯Ø© ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ©
    text = text.strip()

    return text


#  Ø¯Ø§Ù„Ø© ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¯Ø§ØªØ§ 
def clean_data(data):
    cleaned_pages = []
    for page in data:
        cleaned_page = {
            "page_number": page["page_number"],
            "cleaned_text": clean_text(page["text"])
        }
        cleaned_pages.append(cleaned_page)
    return cleaned_pages


# Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª  
data = [
    {
        "page_number": 70,
        "text": "32  INSTRUCTIONS FOR COMPLETION OF SF-LLL, DISCLOSURE OF LOBBYING \nACTIVITIES \nThis disclosure form shall be completed by the reporting entity, whether subawardee or prime \nFederal recipient, at the initiation or receipt of a covered Federal action, or a material change to \na previous filing, pursuant to title 31 U.S.C. section 1352. The filing of a form is required for each payment or agreement to make \npayment to any lobbying entity for influencing or attempting to influence an officer or \nemployee of any agency, a Member of Congress, an officer or employee of Congress, or an \nemployee of a Member of Congress in connection with a covered Federal action. Complete all \nitems that apply for both the initial filing and material change report. Refer to the \nimplementing guidance published by the Office of Management and Budget for additional \ninformation. \n1. Identify the type of covered Federal action for which lobbying activity is and/or \nhas been secured to influence the outcome of a covered Federal action. \n2. Identify the status of the covered Federal action. \n3. Identify the appropriate classification of this report. If this is a follow-up report \ncaused by a material change to the information previously reported, enter the year \nand quarter in which the change occurred. Enter the date of the last previously \nsubmitted report by this reporting entity for this covered Federal action. \n4. Enter the full name, address, city, State and zip code of the reporting entity. Include Congressional District, if known. Check the appropriate classification of the reporting \nentity that designates if it is, or expects to be, a prime or subaward recipient. Identify \nthe tier of the subawardee, e.g., the first subawardee of the prime is the 1st tier. Subawards include but are not limited to subcontracts, subgrants and contract \nawards under grants. \n5. If the organization filing the report in item 4 checks â€œSubawardee,â€ then enter the full \nname, address, city, State and zip code of the prime Federal recipient. Include \nCongressional District, if known. \n6. Enter the name of the federal agency making the award or loan commitment. Include at least one organizational level below agency name, if known. For \nexample, Department of Transportation, United States Coast Guard. \n7. Enter the Federal program name or description for the covered Federal action (item \n1). If known, enter the full Catalog of Federal Domestic Assistance (CFDA) number for \ngrants, cooperative agreements, loans, and loan commitments. \n8. Enter the most appropriate Federal identifying number available for the Federal action \nidentified in item 1 (e.g., Request for Proposal (RFP) number; Invitations for Bid (IFB) \nnumber; grant announcement number; the contract, grant, or loan award number; \nthe application/proposal control number assigned by the Federal agency). Include \nprefixes, e.g., â€œRFP-DE-90-001.â€ \n9. For a covered Federal action where there has been an award or loan commitment by \nthe Federal agency, enter the Federal amount of the award/loan commitment for \nthe prime entity identified in item 4 or 5. \n10. (a) Enter the full name, address, city, State and zip code of the lobbying registrant under the Lobbying Disclosure Act of 1995 engaged by the reporting entity \nidentified in item 4 to influence the covered Federal action. \n(b) Enter the full names of the individuals performing services, and include full address if different from 10(a). Enter Last Name, First Name, and Middle Initial (MI). \n11. The certifying official shall sign and date the form, print his/her name, title, and telephone number. \nAccording to the Paperwork Reduction Act, as amended, no persons are required to respond to",
        "tables": []
    },
    {
        "page_number": 71,
        "text": "33  a collection of information unless it displays a valid OMB control Number. The valid OMB \ncontrol number for this information collection is OMB No. 0348-0046. Public reporting burden \nfor this collection of information is estimated to average 10 minutes per response, including \ntime for reviewing instructions, searching existing data sources, gathering and maintaining the \ndata needed, and completing and reviewing the collection of information. Send comments \nregarding the burden estimate or any other aspect of this collection of information, including \nsuggestions for reducing this burden, to the Office of Management and Budget, Paperwork \nReduction Project (0348-0046), Washington, DC 20503",
        "tables": []
    },
    {
        "page_number": 72,
        "text": "34  RECIPIENT POLICY TO BAN TEXT MESSAGING WHILE DRIVING \n(a) Definitions. The following definitions are intended to be consistent with the definitions in DOT \nOrder 3902.10, Text Messaging While Driving (Dec. 30, 2009) and Executive Order 13513, Federal \nLeadership on Reducing Text Messaging While Driving (Oct. 1, 2009). For clarification purposes, they \nmay expand upon the definitions in the executive order. \nFor the purpose of Attachment 5.3, â€œMotor Vehiclesâ€ means any vehicle, self-propelled or drawn by \nmechanical power, designed and operated principally for use on a local, State or Federal roadway, but \ndoes not include a military design motor vehicle or any other vehicle excluded under Federal \nManagement Regulation 102-34-15. \nFor the purpose of Attachment 5.3, â€œDrivingâ€ means operating a motor vehicle on a roadway, including \nwhile temporarily stationary because of traffic congestion, a traffic signal, a stop sign, another traffic \ncontrol device, or otherwise. It does not include being in your vehicle (with or without the motor running) \nin a location off the roadway where it is safe and legal to remain stationary. \nFor the purpose of Attachment 5.3, â€œText messagingâ€ means reading from or entering data into any \nhandheld or other electronic device (including, but not limited to, cell phones, navigational tools, laptop \ncomputers, or other electronic devices), including for the purpose of Short Message Service (SMS) \ntexting, e-mailing, instant messaging, obtaining navigational information, or engaging in any other form \nof electronic data retrieval or electronic data communication. The term does not include the use of a \ncell phone or other electronic device for the limited purpose of entering a telephone number to make \nan outgoing call or answer an incoming call, unless this practice is prohibited by State or local law. \nThe term also does not include glancing at or listening to a navigational device that is secured in a \ncommercially designed holder affixed to the vehicle, provided that the destination and route are \nprogrammed into the device either before driving or while stopped in a location off the roadway where \nit is safe and legal to remain stationary. \nFor the purpose of Attachment 5.3, the â€œGovernmentâ€ includes the United States Government and \nState, local, and tribal governments at all levels. \n(b) Workplace Safety. In accordance with Executive Order 13513, Federal Leadership on Reducing \nText Messaging While Driving (Oct. 1, 2009) and DOT Order 3902.10, Text Messaging While \nDriving (Dec. 30, 2009), the Recipient, subrecipients, contractors, and subcontractors are encouraged to: \n(1) adopt and enforce workplace safety policies to decrease crashes caused by distracted \ndrivers including policies to ban text messaging while drivingâ€” \n(i) Company-owned or -rented vehicles or Government-owned, leased or rented",
        "tables": []
    },
    {
        "page_number": 73,
        "text": "vehicles; or \n(ii) Privately-owned vehicles when on official Government business or when \nperforming any work for or on behalf of the Government. \n(2) Conduct workplace safety initiatives in a manner commensurate with the size of \nthe business, such asâ€” \n(i) Establishment of new rules and programs or re-evaluation of existing programs to \nprohibit text messaging while driving; and (ii) Education, awareness, and other outreach to employees about the safety risks \nassociated with texting while driving. \n(c) Subawards and Contracts. To the extent permitted by law, the Recipient shall insert the \nsubstance of this exhibit, including this paragraph (c), in all subawards, contracts, and subcontracts \nunder this award that exceed the micro-purchase threshold, other than contracts and subcontracts \nfor the acquisition of commercially available off-the-shelf items. \nBy signing this ASSURANCE, the Recipient also agrees to comply (and require any sub-recipients, \ncontractors, successors, transferees, and/or assignees to comply) with all applicable provisions in \nDOT Order 3902.10, Text Messaging While Driving (Dec. 30, 2009) and Executive Order 13513, \nFederal Leadership on Reducing Text Messaging While Driving. \nOrganization name \nBy (Signature of Authorized Official) \nDATED",
        "tables": []
    },
    {
        "page_number": 74,
        "text": "EXHIBIT F. Standard Title VI/Non-\nDiscrimination Assurances \nAPPENDIX A \nDuring the performance of this contract, the contractor, for itself, its assignees, and successors in \ninterest (hereinafter referred to as the â€œcontractorâ€) agrees as follows: \n1. Compliance with Regulations: The contractor (hereinafter includes consultants) will comply with the \nActs and the Regulations relative to Non-discrimination in Federally assisted programs of the \nU.S. Department of Transportation, the Build America Bureau), as they may be amended from time \nto time, which are herein incorporated by reference and made a part of this contract. \n2. Non-discrimination: The contractor, with regard to the work performed by it during the contract, \nwill not discriminate on the grounds of race, color, or national origin in the selection and retention \nof subcontractors, including procurements of materials and leases of equipment. The contractor will \nnot participate directly or indirectly in the discrimination prohibited by the Acts and the \nRegulations, including employment practices when the contract covers any activity, project, or \nprogram set forth in Appendix B of 49 C.F.R. Part 21. \n3. Solicitations for Subcontracts, Including Procurements of Materials and Equipment: In all \nsolicitations, either by competitive bidding, or negotiation made by the contractor for work to be \nperformed under a subcontract, including procurements of materials, or leases of equipment, each \npotential subcontractor or supplier will be notified by the contractor of the contractorâ€™s obligations \nunder this contract and the Acts and the Regulations relative to Non-discrimination on the grounds \nof race, color, or national origin. \n4. Information and Reports: The contractor will provide all information and reports required by the \nActs, the Regulations, and directives issued pursuant thereto and will permit access to its books, records, accounts, other sources of information, and its facilities as may be determined by the \nRecipient or the FHWA to be pertinent to ascertain compliance with such Acts, Regulations, and \ninstructions. Where any information required of a contractor is in the exclusive possession of \nanother who fails or refuses to furnish the information, the contractor will so certify to the \nRecipient or the FHWA, as appropriate, and will set forth what efforts it has made to obtain the \ninformation. \n5. Sanctions for Noncompliance: In the event of a contractorâ€™s noncompliance with the Non-\ndiscrimination provisions of this contract, the Recipient will impose such contract sanctions as it or \nthe FHWA may determine to be appropriate, including, but not limited to: \na. withholding payments to the contractor under the contract until the contractor complies; and/or \nb. cancelling, terminating, or suspending a contract, in whole or in part.",
        "tables": []
    },
    {
        "page_number": 75,
        "text": "6. Incorporation of Provisions: The contractor will include the provisions of paragraphs one through \nsix in every subcontract, including procurements of materials and leases of equipment, unless \nexempt by the Acts, the Regulations and directives issued pursuant thereto. The contractor will act \nwith respect to any subcontract or procurement as the Recipient or the FHWA may direct as a \nmeans of enforcing such provisions including sanctions for noncompliance. Provided, that if the contractor becomes involved in, or is threatened with litigation by a subcontractor, or supplier \nbecause of such direction, the contractor may request the Recipient to enter into any litigation to \nprotect the interests of the Recipient. In addition, the contractor may request the United States to \nenter into the litigation to protect the interests of the United States. \nAPPENDIX E \nDuring the performance of this contract, the contractor, for itself, its assignees, and successors in \ninterest (hereinafter referred to as the â€œcontractorâ€) agrees to comply with the following non-\ndiscrimination statutes and authorities; including but not limited to: \nPertinent Non-Discrimination Authorities: \nï‚· Title VI of the Civil Rights Act of 1964 (42 U.S.C. Â§ 2000d et seq., 78 stat. 252), (prohibits \ndiscrimination on the basis of race, color, national origin); and 49 C.F.R. Part 21. \nï‚· The Uniform Relocation Assistance and Real Property Acquisition Policies Act of 1970, \n(42 U.S.C. Â§ 4601), (prohibits unfair treatment of persons displaced or whose property \nhas been acquired because of Federal or Federal-aid programs and projects); \nï‚· Federal-Aid Highway Act of 1973, (23 U.S.C. Â§ 324 et seq.), (prohibits discrimination on the \nbasis of sex); \nï‚· Section 504 of the Rehabilitation Act of 1973, (29 U.S.C. Â§ 794 et seq.), as amended, \n(prohibits discrimination on the basis of disability); and 49 C.F.R. Part 27; \nï‚· The Age Discrimination Act of 1975, as amended, (42 U.S.C. Â§ 6101 et seq.), \n(prohibits discrimination on the basis of age); \nï‚· Airport and Airway Improvement Act of 1982, (49 U.S.C. Â§ 471, Section 47123), as \namended, (prohibits discrimination based on race, creed, color, national origin, or sex); \nï‚· The Civil Rights Restoration Act of 1987, (PL 100-209), (Broadened the scope, coverage and \napplicability of Title VI of the Civil Rights Act of 1964, The Age Discrimination Act of 1975 \nand Section 504 of the Rehabilitation Act of 1973, by expanding the definition of the terms \nâ€œprograms or activitiesâ€ to include all of the programs or activities of the Federal-aid \nrecipients, sub-recipients and contractors, whether such programs or activities are \nFederally funded or not); \nï‚· Titles II and III of the Americans with Disabilities Act, which prohibit discrimination on the \nbasis of disability in the operation of public entities, public and private transportation \nsystems, places of public accommodation, and certain testing entities (42 U.S.C. Â§Â§ 12131 â€“ \n12189) as implemented by Department of Transportation regulations at 49 C.F.R. Parts 37",
        "tables": []
    },
    {
        "page_number": 76,
        "text": "and 38; \nï‚· The Federal Aviation Administrationâ€™s Non-discrimination statute (49 U.S.C. Â§ 47123) \n(prohibits discrimination on the basis of race, color, national origin, and sex); \nï‚· Executive Order 12898, Federal Actions to Address Environmental Justice in Minority \nPopulations and Low-Income Populations, which ensures nondiscrimination against \nminority populations by discouraging programs, policies, and activities with \ndisproportionately high and adverse human health or environmental effects on minority \nand low-income populations; \nï‚· Executive Order 13166, Improving Access to Services for Persons with Limited English \nProficiency, and resulting agency guidance, national origin discrimination includes \ndiscrimination because of limited English proficiency (LEP). To ensure compliance with Title \nVI, you must take reasonable steps to ensure that LEP persons have meaningful access to \nyour programs (70 Fed. Reg. at 74087 to 74100); \nï‚· Title IX of the Education Amendments of 1972, as amended, which prohibits you \nfrom discriminating because of sex in education programs or activities (20 U.S.C. Â§ \n1681 et seq).",
        "tables": []
    }
]


# ---------- ğŸ”¹ ØªÙ†ÙÙŠØ° Ø§Ù„ÙƒÙˆØ¯ ----------
if __name__ == "__main__":
    cleaned = clean_data(data)

    # Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ù†Øµ ÙƒØ§Ù…Ù„ Ù„ÙƒÙ„ ØµÙØ­Ø©
    for page in cleaned:
        print(f"ğŸ“„ Page {page['page_number']}:")
        print(page['cleaned_text'], "\n")